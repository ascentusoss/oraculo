{"version":3,"file":"json-messages.js","sourceRoot":"","sources":["../../../../src/core/messages/relatorios/json-messages.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\n/**\n * Mensagens e descrições centralizadas para exportação JSON\n * Define textos explicativos, labels e metadados para campos JSON\n */\n\nimport type { JsonComMetadados } from '@';\n\nexport const JsonMessages = {\n  /* -------------------------- CAMPOS COMUNS -------------------------- */\n  comum: {\n    timestamp: {\n      label: 'timestamp',\n      descricao: 'Data e hora da geração do relatório (ISO 8601)',\n    },\n    versao: {\n      label: 'versao',\n      descricao: 'Versão do Oráculo que gerou este relatório',\n    },\n    schemaVersion: {\n      label: 'schemaVersion',\n      descricao: 'Versão do schema JSON (para compatibilidade backward)',\n    },\n    duracao: {\n      label: 'duracaoMs',\n      descricao: 'Duração total da execução em milissegundos',\n    },\n  },\n\n  /* -------------------------- DIAGNÓSTICO -------------------------- */\n  diagnostico: {\n    root: {\n      label: 'diagnostico',\n      descricao: 'Resultado completo do diagnóstico do projeto',\n    },\n    totalArquivos: {\n      label: 'totalArquivos',\n      descricao: 'Número total de arquivos escaneados',\n    },\n    ocorrencias: {\n      label: 'ocorrencias',\n      descricao: 'Lista de todas as ocorrências detectadas pelos analistas',\n      campos: {\n        tipo: 'Tipo/categoria da ocorrência',\n        nivel: 'Nível de severidade (info, aviso, erro)',\n        mensagem: 'Descrição detalhada do problema',\n        relPath: 'Caminho relativo do arquivo',\n        linha: 'Linha onde ocorre o problema',\n        coluna: 'Coluna onde ocorre o problema',\n        contexto: 'Contexto adicional (snippet de código)',\n      },\n    },\n    metricas: {\n      label: 'metricas',\n      descricao: 'Métricas agregadas do projeto',\n      campos: {\n        totalLinhas: 'Total de linhas de código analisadas',\n        totalArquivos: 'Total de arquivos processados',\n        arquivosComErro: 'Arquivos que falharam no parsing',\n        tempoTotal: 'Tempo total de processamento',\n      },\n    },\n    linguagens: {\n      label: 'linguagens',\n      descricao: 'Estatísticas de uso de linguagens no projeto',\n      campos: {\n        total: 'Total de arquivos de código',\n        extensoes: 'Mapa de extensão -> quantidade',\n      },\n    },\n    parseErros: {\n      label: 'parseErros',\n      descricao: 'Erros de parsing agrupados',\n      campos: {\n        total: 'Total de erros de parsing',\n        porArquivo: 'Mapa de arquivo -> lista de erros',\n        agregado: 'Indica se houve agregação de erros',\n      },\n    },\n  },\n\n  /* -------------------------- ESTRUTURA / ARQUETIPOS -------------------------- */\n  estrutura: {\n    root: {\n      label: 'estruturaIdentificada',\n      descricao: 'Identificação da estrutura e arquétipo do projeto',\n    },\n    melhores: {\n      label: 'melhores',\n      descricao: 'Lista ordenada dos melhores candidatos de arquétipo',\n      campos: {\n        nome: 'Nome do arquétipo',\n        score: 'Pontuação calculada',\n        confidence: 'Nível de confiança (%)',\n        descricao: 'Descrição do arquétipo',\n        matchedRequired: 'Arquivos obrigatórios encontrados',\n        missingRequired: 'Arquivos obrigatórios ausentes',\n        matchedOptional: 'Arquivos opcionais encontrados',\n      },\n    },\n    baseline: {\n      label: 'baseline',\n      descricao: 'Snapshot salvo da estrutura para detecção de drift',\n      campos: {\n        arquetipo: 'Arquétipo identificado',\n        confidence: 'Confiança quando salvo',\n        timestamp: 'Data do snapshot',\n        arquivosRaiz: 'Lista de arquivos na raiz',\n      },\n    },\n    drift: {\n      label: 'drift',\n      descricao: 'Mudanças detectadas em relação ao baseline',\n      campos: {\n        alterouArquetipo: 'Se houve mudança de arquétipo',\n        deltaConfidence: 'Variação percentual de confiança',\n        arquivosRaizNovos: 'Novos arquivos na raiz',\n        arquivosRaizRemovidos: 'Arquivos removidos da raiz',\n      },\n    },\n  },\n\n  /* -------------------------- GUARDIAN -------------------------- */\n  guardian: {\n    root: {\n      label: 'guardian',\n      descricao: 'Verificação de integridade e proteção do código',\n    },\n    status: {\n      label: 'status',\n      opcoes: {\n        sucesso: 'Verificação bem-sucedida, sem alterações',\n        alteracoes: 'Alterações detectadas em arquivos protegidos',\n        baseline: 'Baseline criado (primeira execução)',\n        erro: 'Erro durante verificação',\n        naoExecutada: 'Guardian não foi executado',\n      },\n    },\n    totalArquivos: {\n      label: 'totalArquivos',\n      descricao: 'Número de arquivos protegidos',\n    },\n    alteracoes: {\n      label: 'alteracoes',\n      descricao: 'Lista de alterações detectadas',\n      campos: {\n        arquivo: 'Caminho do arquivo modificado',\n        hashAnterior: 'Hash SHA-256 anterior',\n        hashAtual: 'Hash SHA-256 atual',\n        acao: 'Tipo de ação (modificado, adicionado, removido)',\n      },\n    },\n  },\n\n  /* -------------------------- PODA -------------------------- */\n  poda: {\n    root: {\n      label: 'poda',\n      descricao: 'Relatório de arquivos/diretórios marcados para remoção',\n    },\n    pendencias: {\n      label: 'pendencias',\n      descricao: 'Lista de itens pendentes de remoção',\n      campos: {\n        caminho: 'Caminho completo',\n        tipo: 'arquivo ou diretorio',\n        motivoOriginal: 'Razão da marcação',\n        timestamp: 'Data da marcação',\n      },\n    },\n    reativar: {\n      label: 'listaReativar',\n      descricao: 'Lista de itens marcados para reativação',\n    },\n    historico: {\n      label: 'historico',\n      descricao: 'Histórico de ações de poda executadas',\n      campos: {\n        acao: 'Tipo de ação (remover, reativar, pendente)',\n        caminho: 'Caminho afetado',\n        timestamp: 'Data da ação',\n        usuario: 'Usuário que executou',\n      },\n    },\n  },\n\n  /* -------------------------- REESTRUTURAÇÃO -------------------------- */\n  reestruturar: {\n    root: {\n      label: 'reestruturacao',\n      descricao: 'Plano de reestruturação do projeto',\n    },\n    movimentos: {\n      label: 'movimentos',\n      descricao: 'Lista de movimentos de arquivos planejados',\n      campos: {\n        id: 'ID único do movimento',\n        origem: 'Caminho de origem',\n        destino: 'Caminho de destino',\n        razao: 'Razão do movimento',\n        status: 'Status (zona-verde, bloqueado, pendente)',\n        dependencias: 'Arquivos dependentes afetados',\n      },\n    },\n    conflitos: {\n      label: 'conflitos',\n      descricao: 'Conflitos detectados que impedem movimentos',\n      campos: {\n        tipo: 'Tipo de conflito',\n        arquivos: 'Arquivos envolvidos',\n        descricao: 'Descrição do conflito',\n        resolucaoSugerida: 'Como resolver',\n      },\n    },\n    resumo: {\n      label: 'resumo',\n      descricao: 'Resumo estatístico do plano',\n      campos: {\n        total: 'Total de movimentos',\n        zonaVerde: 'Movimentos seguros',\n        bloqueados: 'Movimentos bloqueados',\n        impactoEstimado: 'Número de arquivos afetados',\n      },\n    },\n  },\n\n  /* -------------------------- FILTRO INTELIGENTE -------------------------- */\n  filtroInteligente: {\n    root: {\n      label: 'relatorioResumo',\n      descricao: 'Relatório filtrado com problemas priorizados',\n    },\n    problemasCriticos: {\n      label: 'problemasCriticos',\n      descricao: 'Problemas de severidade crítica (segurança, dados)',\n    },\n    problemasAltos: {\n      label: 'problemasAltos',\n      descricao: 'Problemas de alta prioridade (bugs, código frágil)',\n    },\n    problemasOutros: {\n      label: 'problemasOutros',\n      descricao: 'Demais problemas (baixa/média prioridade)',\n    },\n    estatisticas: {\n      label: 'estatisticas',\n      descricao: 'Estatísticas do agrupamento inteligente',\n      campos: {\n        totalOcorrencias: 'Total de ocorrências processadas',\n        arquivosAfetados: 'Número de arquivos únicos afetados',\n        problemasPrioritarios: 'Problemas críticos + altos',\n        problemasAgrupados: 'Número de grupos criados',\n      },\n    },\n  },\n};\n\n/**\n * Envolve dados JSON com metadados explicativos\n */\nexport function wrapComMetadados<T>(\n  data: T,\n  schema: string,\n  versao: string,\n  descricao: string,\n): JsonComMetadados<T> {\n  return {\n    _metadata: {\n      schema,\n      versao,\n      geradoEm: new Date().toISOString(),\n      descricao,\n    },\n    dados: data,\n  };\n}\n\n/**\n * Helper para gerar descrição de campo JSON com tipagem segura\n */\nexport function getDescricaoCampo(caminho: string): string {\n  const parts = caminho.split('.');\n  // Tipo seguro para navegação no objeto de mensagens\n  let current: unknown = JsonMessages;\n\n  for (const part of parts) {\n    if (typeof current === 'object' && current !== null && part in current) {\n      current = (current as Record<string, unknown>)[part];\n    } else {\n      return `Campo: ${caminho}`;\n    }\n  }\n\n  // Type guard para verificar se tem descrição\n  if (\n    typeof current === 'object' &&\n    current !== null &&\n    'descricao' in current &&\n    typeof (current as { descricao: unknown }).descricao === 'string'\n  ) {\n    return (current as { descricao: string }).descricao;\n  }\n\n  return `Campo: ${caminho}`;\n}\n"]}