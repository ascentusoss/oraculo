{"version":3,"file":"relatorio-templates.js","sourceRoot":"","sources":["../../../../src/core/messages/relatorios/relatorio-templates.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\n/**\n * Templates reutilizáveis para geração de relatórios Markdown\n * Funções que geram seções completas de MD com formatação consistente\n */\n\nimport { formatMs } from '@core/config/format.js';\n\nimport type {\n  GuardianInfo,\n  MetadadosRelatorioEstendido,\n  ProblemaAgrupado,\n} from '@';\n\nimport { RelatorioMessages } from './relatorio-messages.js';\n\n// Re-exporta o tipo para compatibilidade\nexport type { MetadadosRelatorioEstendido };\n\n/**\n * Gera o cabeçalho padrão do relatório Markdown\n */\nexport function gerarHeaderRelatorio(\n  metadados: MetadadosRelatorioEstendido,\n): string[] {\n  const lines: string[] = [];\n  const { principal } = RelatorioMessages;\n\n  lines.push(`# ${principal.titulo}`);\n  lines.push('');\n  lines.push(`**${principal.secoes.metadados.data}:** ${metadados.dataISO}  `);\n  lines.push(\n    `**${principal.secoes.metadados.duracao}:** ${formatMs(metadados.duracao)}  `,\n  );\n  lines.push(\n    `**${principal.secoes.metadados.arquivos}:** ${metadados.totalArquivos}  `,\n  );\n  lines.push(\n    `**${principal.secoes.metadados.ocorrencias}:** ${metadados.totalOcorrencias}  `,\n  );\n  lines.push('');\n  lines.push(RelatorioMessages.comum.separadores.secao);\n  lines.push('');\n\n  // Se houver manifest\n  if (metadados.manifestFile && metadados.relatoriosDir) {\n    lines.push(\n      `**${principal.secoes.metadados.arquivoManifest}:** \\`${metadados.manifestFile}\\`  `,\n    );\n    lines.push('');\n    lines.push(`> ${principal.secoes.metadados.notaManifest}`);\n    lines.push('');\n    lines.push(RelatorioMessages.comum.separadores.secao);\n    lines.push('');\n  }\n\n  return lines;\n}\n\n/**\n * Gera a seção Guardian do relatório\n */\nexport function gerarSecaoGuardian(guardian: GuardianInfo): string[] {\n  const lines: string[] = [];\n  const { guardian: msg } = RelatorioMessages.principal.secoes;\n\n  lines.push(`## ${msg.titulo}`);\n  lines.push('');\n  lines.push(`  - **${msg.status}:** ${guardian.status}`);\n  lines.push(`  - **${msg.timestamp}:** ${guardian.timestamp}`);\n  lines.push(`  - **${msg.totalArquivos}:** ${guardian.totalArquivos}`);\n  lines.push('');\n  lines.push(RelatorioMessages.comum.separadores.secao);\n  lines.push('');\n\n  return lines;\n}\n\n/**\n * Gera tabela de resumo por tipo\n */\nexport function gerarTabelaResumoTipos(\n  tiposCount: Record<string, number>,\n  limite = 10,\n): string[] {\n  const lines: string[] = [];\n  const { resumoTipos } = RelatorioMessages.principal.secoes;\n\n  lines.push(`## ${resumoTipos.titulo}`);\n  lines.push('');\n  lines.push(`| ${resumoTipos.tipo} | ${resumoTipos.quantidade} |`);\n  lines.push('|-------------------|----------|');\n\n  const sorted = Object.entries(tiposCount)\n    .sort(([, a], [, b]) => b - a)\n    .slice(0, limite);\n\n  for (const [tipo, count] of sorted) {\n    lines.push(`| ${tipo.padEnd(17)} | ${String(count).padStart(8)} |`);\n  }\n\n  lines.push('');\n  lines.push(RelatorioMessages.comum.separadores.secao);\n  lines.push('');\n\n  return lines;\n}\n\n/**\n * Gera tabela de ocorrências\n */\nfunction escapeMarkdownTableCell(value: string): string {\n  return value.replace(/\\\\/g, '\\\\\\\\').replace(/\\|/g, '\\\\|');\n}\n\nexport function gerarTabelaOcorrencias<\n  T extends {\n    relPath?: string;\n    linha?: number;\n    nivel?: string;\n    mensagem?: string;\n  },\n>(ocorrencias: T[]): string[] {\n  const lines: string[] = [];\n  const { ocorrencias: msg } = RelatorioMessages.principal.secoes;\n\n  lines.push(`## ${msg.titulo}`);\n  lines.push('');\n  lines.push(\n    `| ${msg.colunas.arquivo} | ${msg.colunas.linha} | ${msg.colunas.nivel}  | ${msg.colunas.mensagem} |`,\n  );\n  lines.push('|---------|-------|--------|----------|');\n\n  for (const o of ocorrencias) {\n    const arquivo = String(o.relPath || '');\n    const linha = o.linha ? String(o.linha) : '';\n    const nivel = String(o.nivel || '');\n    const mensagem = escapeMarkdownTableCell(String(o.mensagem || ''));\n    lines.push(`| ${arquivo} | ${linha} | ${nivel} | ${mensagem} |`);\n  }\n\n  lines.push('');\n\n  return lines;\n}\n\n/**\n * Gera seção de problemas agrupados (para filtro inteligente)\n */\nexport function gerarSecaoProblemasAgrupados(\n  titulo: string,\n  problemas: ProblemaAgrupado[],\n  mostrarExemplos = true,\n): string[] {\n  const lines: string[] = [];\n  const { labels } = RelatorioMessages.resumo;\n\n  lines.push(`## ${titulo}`);\n  lines.push('');\n\n  if (problemas.length === 0) {\n    lines.push(`> ${RelatorioMessages.comum.vazios.nenhumResultado}`);\n    lines.push('');\n    return lines;\n  }\n\n  for (const prob of problemas) {\n    lines.push(`### ${prob.icone} ${prob.titulo}`);\n    lines.push('');\n    lines.push(`**${labels.quantidade}:** ${prob.quantidade}  `);\n    lines.push(`**Resumo:** ${prob.resumo}  `);\n\n    if (prob.acaoSugerida) {\n      lines.push(`**${labels.acaoSugerida}:** ${prob.acaoSugerida}  `);\n    }\n\n    lines.push('');\n\n    // Mostrar até 3 exemplos\n    if (mostrarExemplos && prob.ocorrencias.length > 0) {\n      lines.push(`**${labels.exemplos}:**`);\n      const exemplos = prob.ocorrencias.slice(0, 3);\n      for (const ex of exemplos) {\n        const local = ex.relPath\n          ? `${ex.relPath}${ex.linha ? `:${ex.linha}` : ''}`\n          : '';\n        const msg = ex.mensagem ? ` - ${ex.mensagem}` : '';\n        lines.push(`  - \\`${local}\\`${msg}`);\n      }\n      if (prob.ocorrencias.length > 3) {\n        lines.push(\n          `  - _...e mais ${prob.ocorrencias.length - 3} ocorrências_`,\n        );\n      }\n      lines.push('');\n    }\n\n    lines.push(RelatorioMessages.comum.separadores.subsecao);\n    lines.push('');\n  }\n\n  return lines;\n}\n\n/**\n * Gera tabela genérica de duas colunas\n */\nexport function gerarTabelaDuasColunas(\n  dados: Array<[string, string | number]>,\n  cabecalhos: [string, string],\n): string[] {\n  const lines: string[] = [];\n\n  lines.push(`| ${cabecalhos[0]} | ${cabecalhos[1]} |`);\n  lines.push('|------------------|----------|');\n\n  for (const [col1, col2] of dados) {\n    lines.push(`| ${col1.padEnd(16)} | ${String(col2).padStart(8)} |`);\n  }\n\n  lines.push('');\n\n  return lines;\n}\n\n/**\n * Gera seção de estatísticas\n */\nexport function gerarSecaoEstatisticas(\n  stats: Record<string, string | number>,\n): string[] {\n  const lines: string[] = [];\n  const { estatisticas } = RelatorioMessages.principal.secoes;\n\n  lines.push(`## ${estatisticas.titulo}`);\n  lines.push('');\n\n  for (const [chave, valor] of Object.entries(stats)) {\n    lines.push(`  - **${chave}:** ${valor}`);\n  }\n\n  lines.push('');\n\n  return lines;\n}\n\n/**\n * Gera footer do relatório\n */\nexport function gerarFooterRelatorio(timestampISO?: string): string[] {\n  const lines: string[] = [];\n\n  lines.push(RelatorioMessages.comum.separadores.secao);\n  lines.push('');\n  lines.push('_Gerado por Oráculo CLI_');\n  if (timestampISO) {\n    lines.push(`_${timestampISO}_`);\n  }\n  lines.push('');\n\n  return lines;\n}\n\n/**\n * Helper para escrever arquivo MD completo\n */\nexport async function escreverRelatorioMarkdown(\n  outputPath: string,\n  lines: string[],\n): Promise<void> {\n  const { salvarEstado } = await import('@shared/persistence/persistencia.js');\n  await salvarEstado(outputPath, lines.join('\\n'));\n}\n"]}