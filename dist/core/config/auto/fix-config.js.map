{"version":3,"file":"fix-config.js","sourceRoot":"","sources":["../../../../src/core/config/auto/fix-config.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\n\nimport {\n  otimizarSvgLikeSvgo,\n  shouldSugerirOtimizacaoSvg,\n} from '/impar/svgs.js';\n\nimport type { AutoFixConfig, PatternBasedQuickFix } from '@';\n\nimport {\n  hasMinimumConfidence,\n  isCategoryAllowed,\n  shouldExcludeFile,\n} from './auto-fix-config.js';\n\n// Re-exporta os tipos para compatibilidade\nexport type { PatternBasedQuickFix };\n\n// Small textual helpers used by some heuristics\nfunction _isInComment(match: RegExpMatchArray, fullCode: string): boolean {\n  const lines = fullCode.split('\\n');\n  const matchStart =\n    typeof match.index === 'number' ? match.index : fullCode.indexOf(match[0]);\n  let pos = 0;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    const lineStart = pos;\n    const lineEnd = pos + line.length;\n    if (matchStart >= lineStart && matchStart <= lineEnd) {\n      const before = line.substring(0, Math.max(0, matchStart - lineStart));\n      if (/\\/\\//.test(before)) return true;\n      const blockStart = fullCode.lastIndexOf('/*', matchStart);\n      const blockEnd = fullCode.indexOf('*/', matchStart);\n      if (blockStart !== -1 && (blockEnd === -1 || blockEnd > matchStart))\n        return true;\n    }\n    pos = lineEnd + 1;\n  }\n  return false;\n}\n\nfunction _isInTodoComment(match: RegExpMatchArray, fullCode: string): boolean {\n  const lines = fullCode.split('\\n');\n  const matchStart =\n    typeof match.index === 'number' ? match.index : fullCode.indexOf(match[0]);\n  let pos = 0;\n  for (let i = 0; i < lines.length; i++) {\n    const line = lines[i];\n    const lineStart = pos;\n    const lineEnd = pos + line.length;\n    if (matchStart >= lineStart && matchStart <= lineEnd) {\n      if (/TODO|FIXME|XXX|HACK/i.test(line)) return true;\n    }\n    pos = lineEnd + 1;\n  }\n  return false;\n}\n\nfunction _isCriticalSystemFile(fullCode: string): boolean {\n  const criticalIndicators = [\n    'SPDX-License-Identifier',\n    '/configuracao',\n    'operario-estrutura',\n    'corretor-estrutura',\n    'config.js',\n    'executor.js',\n    'quick-fix-registry',\n    'mapa-reversao',\n    'persistence/persistencia',\n  ];\n  return criticalIndicators.some((i) => fullCode.includes(i));\n}\n\n// üö® REGISTRY SEGURO - APENAS QUICK FIXES QUE N√ÉO QUEBRAM C√ìDIGO\nexport const quickFixRegistry: PatternBasedQuickFix[] = [\n  // ‚úÖ Quick fixes reintroduzidos de forma conservadora:\n  // Come√ßamos por SVGs, pois a transforma√ß√£o √© determin√≠stica e segura.\n  {\n    id: 'svg-optimize-svgo-like',\n    title: 'Otimizar SVG (Or√°culo)',\n    description:\n      'Remove prolog/doctype/coment√°rios/metadata e colapsa whitespace entre tags para reduzir tamanho do SVG.',\n    // Match √∫nico do arquivo inteiro\n    pattern: /^[\\s\\S]+$/,\n    category: 'performance',\n    confidence: 95,\n    shouldApply: (\n      _match: RegExpMatchArray,\n      fullCode: string,\n      _lineContext: string,\n      filePath?: string,\n    ): boolean => {\n      // Aceita apenas SVGs (por path ou, como fallback, por conte√∫do)\n      const pareceSvg = /<svg\\b/i.test(fullCode);\n      const isSvgPath =\n        typeof filePath === 'string' ? /\\.svg$/i.test(filePath) : false;\n      if (!isSvgPath && !pareceSvg) return false;\n\n      const opt = otimizarSvgLikeSvgo({ svg: fullCode });\n      if (!opt.changed) return false;\n      if (!shouldSugerirOtimizacaoSvg(opt.originalBytes, opt.optimizedBytes))\n        return false;\n      return true;\n    },\n    fix: (_match: RegExpMatchArray, fullCode: string): string => {\n      const opt = otimizarSvgLikeSvgo({ svg: fullCode });\n      return opt.data;\n    },\n  },\n  {\n    id: 'svg-add-viewbox-safe',\n    title: 'Adicionar viewBox (quando seguro)',\n    description:\n      'Quando o SVG tem width/height num√©ricos e n√£o tem viewBox, adiciona viewBox=\"0 0 width height\".',\n    pattern: /^[\\s\\S]+$/,\n    category: 'performance',\n    confidence: 92,\n    shouldApply: (\n      _match: RegExpMatchArray,\n      fullCode: string,\n      _lineContext: string,\n      filePath?: string,\n    ): boolean => {\n      const pareceSvg = /<svg\\b/i.test(fullCode);\n      const isSvgPath =\n        typeof filePath === 'string' ? /\\.svg$/i.test(filePath) : false;\n      if (!isSvgPath && !pareceSvg) return false;\n      if (/\\bviewBox\\s*=\\s*['\"][^'\"]+['\"]/i.test(fullCode)) return false;\n      // S√≥ aplica quando width/height s√£o num√©ricos (ou px), evitando %/em/etc.\n      const width =\n        fullCode.match(/\\bwidth\\s*=\\s*['\"]([^'\"]+)['\"]/i)?.[1] ?? '';\n      const height =\n        fullCode.match(/\\bheight\\s*=\\s*['\"]([^'\"]+)['\"]/i)?.[1] ?? '';\n      const parse = (v: string): number | null => {\n        const m = /^\\s*(\\d+(?:\\.\\d+)?)(?:px)?\\s*$/i.exec(v);\n        return m ? Number(m[1]) : null;\n      };\n      const w = parse(width);\n      const h = parse(height);\n      return w !== null && h !== null && w > 0 && h > 0;\n    },\n    fix: (_match: RegExpMatchArray, fullCode: string): string => {\n      // Insere viewBox no start tag do SVG\n      const tagMatch = /<svg\\b[^>]*>/i.exec(fullCode);\n      if (!tagMatch) return fullCode;\n      const tag = tagMatch[0];\n      if (/\\bviewBox\\s*=\\s*['\"][^'\"]+['\"]/i.test(tag)) return fullCode;\n\n      const width =\n        fullCode.match(/\\bwidth\\s*=\\s*['\"]([^'\"]+)['\"]/i)?.[1] ?? '';\n      const height =\n        fullCode.match(/\\bheight\\s*=\\s*['\"]([^'\"]+)['\"]/i)?.[1] ?? '';\n      const parse = (v: string): string | null => {\n        const m = /^\\s*(\\d+(?:\\.\\d+)?)(?:px)?\\s*$/i.exec(v);\n        return m ? m[1] : null;\n      };\n      const w = parse(width);\n      const h = parse(height);\n      if (!w || !h) return fullCode;\n\n      const viewBoxAttr = ` viewBox=\"0 0 ${w} ${h}\"`;\n      const updatedTag = tag.replace(/<svg\\b/i, `<svg${viewBoxAttr}`);\n      return fullCode.replace(tag, updatedTag);\n    },\n  },\n];\n\nexport function findQuickFixes(\n  code: string,\n  problemType?: string,\n  config?: AutoFixConfig,\n  filePath?: string,\n): Array<PatternBasedQuickFix & { matches: RegExpMatchArray[] }> {\n  const results: Array<PatternBasedQuickFix & { matches: RegExpMatchArray[] }> =\n    [];\n  if (config && filePath && shouldExcludeFile(filePath, config)) return results;\n  for (const fix of quickFixRegistry) {\n    if (config && !isCategoryAllowed(fix.category, config)) continue;\n    if (config && !hasMinimumConfidence(fix.confidence, config)) continue;\n    if (problemType && !fix.id.includes(problemType)) continue;\n    const matches: RegExpMatchArray[] = [];\n    fix.pattern.lastIndex = 0;\n    let match: RegExpMatchArray | null;\n    while ((match = fix.pattern.exec(code)) !== null) {\n      if (fix.shouldApply) {\n        const lines = code.split('\\n');\n        const matchPos = match.index ?? 0;\n        const linesBefore = code.substring(0, matchPos).split('\\n');\n        const lineContext = lines[linesBefore.length - 1] || '';\n        const ok = fix.shouldApply(match, code, lineContext, filePath);\n        if (!ok) {\n          if (!fix.pattern.global) break;\n          continue;\n        }\n      }\n      matches.push(match);\n      if (\n        config &&\n        typeof config.maxFixesPerFile === 'number' &&\n        matches.length >= config.maxFixesPerFile\n      )\n        break;\n      if (!fix.pattern.global) break;\n    }\n    if (matches.length > 0) results.push({ ...fix, matches });\n  }\n  return results;\n}\n\nexport function applyQuickFix(\n  code: string,\n  fix: PatternBasedQuickFix,\n  match: RegExpMatchArray,\n): string {\n  return fix.fix(match, code);\n}\n"]}