{"version":3,"file":"comando-perf.js","sourceRoot":"","sources":["../../../src/cli/commands/comando-perf.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\nimport crypto from 'node:crypto';\nimport { promises as fs } from 'node:fs';\nimport path from 'node:path';\n\nimport { ExitCode, sair } from '/helpers/exit-codes.js';\nimport { config } from '/config/config.js';\nimport { formatPct } from '/config/format.js';\nimport { CliComandoPerfMessages } from '/messages/cli/cli-comando-perf-messages.js';\nimport { ICONES_DIAGNOSTICO, log, logSistema } from '/messages/index.js';\nimport { lerEstado, salvarEstado } from '/persistence/persistencia.js';\nimport { Command } from 'commander';\n\nimport type { MetricaExecucaoLike, SnapshotPerf } from '@';\n\nasync function obterCommit(): Promise<string | undefined> {\n  try {\n    // usar helper seguro\n    const { executarShellSeguro } = await import('/utils/exec-safe.js');\n    return executarShellSeguro('git rev-parse --short HEAD', {\n      stdio: ['ignore', 'pipe', 'ignore'],\n    })\n      .toString()\n      .trim();\n  } catch {\n    return undefined;\n  }\n}\n\nfunction calcularHash(snapshot: Omit<SnapshotPerf, 'hashConteudo'>) {\n  // SHA1 usado apenas para fingerprinting de baseline de performance\n  // Não é usado para segurança/criptografia - contexto: identificação rápida de snapshots\n  return crypto\n    .createHash('sha1')\n    .update(JSON.stringify(snapshot, Object.keys(snapshot).sort()))\n    .digest('hex')\n    .slice(0, 10);\n}\n\nasync function gerarBaseline(\n  destDir: string,\n  metricas?: Partial<MetricaExecucaoLike>,\n) {\n  const commit = await obterCommit();\n  const base: Omit<SnapshotPerf, 'hashConteudo'> = {\n    tipo: 'baseline',\n    timestamp: new Date().toISOString(),\n    commit,\n    node: process.version,\n    totalArquivos: metricas?.totalArquivos,\n    tempoParsingMs: metricas?.tempoParsingMs,\n    tempoAnaliseMs: metricas?.tempoAnaliseMs,\n    cacheAstHits: metricas?.cacheAstHits,\n    cacheAstMiss: metricas?.cacheAstMiss,\n    analistasTop: Array.isArray(metricas?.analistas)\n      ? metricas.analistas\n          .slice()\n          .sort((a, b) => b.duracaoMs - a.duracaoMs)\n          .slice(0, 5)\n          .map((a) => ({\n            nome: a.nome,\n            duracaoMs: a.duracaoMs,\n            ocorrencias: a.ocorrencias,\n          }))\n      : undefined,\n  };\n  const hashConteudo = calcularHash(base);\n  const snapshot: SnapshotPerf = { ...base, hashConteudo };\n  await fs.mkdir(destDir, { recursive: true });\n  const nome = `baseline-${Date.now()}.json`;\n  await salvarEstado(path.join(destDir, nome), snapshot);\n  return snapshot;\n}\n\nasync function carregarSnapshots(dir: string): Promise<SnapshotPerf[]> {\n  try {\n    const arquivos = await fs.readdir(dir);\n    const jsons = arquivos.filter((f) => f.endsWith('.json'));\n    const out: SnapshotPerf[] = [];\n    for (const f of jsons) {\n      try {\n        const parsed = await lerEstado<SnapshotPerf>(path.join(dir, f));\n        if (parsed && parsed.tipo === 'baseline') out.push(parsed);\n      } catch {\n        /* ignore */\n      }\n    }\n    return out.sort((a, b) => a.timestamp.localeCompare(b.timestamp));\n  } catch {\n    return [];\n  }\n}\n\nfunction diffPercent(a?: number, b?: number) {\n  if (!a && !b) return 0;\n  if (!a || !b) return 0;\n  if (a === 0) return 0;\n  return ((b - a) / a) * 100;\n}\n\nfunction compararSnapshots(base: SnapshotPerf, atual: SnapshotPerf) {\n  const campos: (keyof SnapshotPerf)[] = [\n    'tempoParsingMs',\n    'tempoAnaliseMs',\n    'cacheAstHits',\n    'cacheAstMiss',\n    'totalArquivos',\n  ];\n  const diffs = campos.map((c) => {\n    const anterior = base[c] as number | undefined;\n    const novo = atual[c] as number | undefined;\n    return {\n      campo: c,\n      anterior,\n      novo,\n      variacaoPct: diffPercent(anterior, novo),\n    };\n  });\n  return diffs;\n}\n\nexport function comandoPerf(): Command {\n  /* istanbul ignore next */\n  if (false) 0;\n  return new Command('perf')\n    .description('Operações de baseline e comparação de performance sintética')\n    .option(\n      '-d, --dir <dir>',\n      'Diretório de snapshots',\n      config.PERF_SNAPSHOT_DIR,\n    )\n    .option('-j, --json', 'Saída JSON')\n    .option(\n      '-l, --limite <n>',\n      'Limite para regressão (%)',\n      (v) => Number(v),\n      30,\n    )\n    .addCommand(\n      new Command('baseline')\n        .description(\n          'Gera uma nova baseline. Usa métricas globais da última execução se disponíveis.',\n        )\n        .action(async (opts, cmd) => {\n          try {\n            const parent = cmd.parent?.opts?.() || {};\n            const dir = parent.dir\n              ? String(parent.dir)\n              : config.PERF_SNAPSHOT_DIR;\n            const metricas = (\n              globalThis as unknown as {\n                __ULTIMAS_METRICAS_ORACULO__?: Partial<MetricaExecucaoLike> | null;\n              }\n            ).__ULTIMAS_METRICAS_ORACULO__;\n            const snap = await gerarBaseline(dir, metricas || undefined);\n            if (parent.json) {\n              console.log(\n                JSON.stringify({ gerado: true, snapshot: snap }, null, 2),\n              );\n            } else {\n              log.sucesso(\n                `Baseline gerada: commit=${snap.commit || 'n/a'} parsing=${snap.tempoParsingMs}ms analise=${snap.tempoAnaliseMs}ms`,\n              );\n            }\n          } catch (err) {\n            log.erro(\n              `Falha na geração de baseline: ${err instanceof Error ? err.message : String(err)}`,\n            );\n            sair(ExitCode.Failure);\n            return;\n          }\n        }),\n    )\n    .addCommand(\n      new Command('compare')\n        .description('Compara os dois últimos snapshots e sinaliza regressão')\n        .action(async (opts, cmd) => {\n          const parent = cmd.parent?.opts?.() || {};\n          const dir = parent.dir\n            ? String(parent.dir)\n            : config.PERF_SNAPSHOT_DIR;\n          const limite = parent.limite;\n          let snaps;\n          try {\n            snaps = await carregarSnapshots(dir);\n          } catch (err) {\n            log.erro(\n              `Falha ao carregar snapshots: ${err instanceof Error ? err.message : String(err)}`,\n            );\n            sair(ExitCode.Failure);\n            return;\n          }\n          if (snaps.length < 2) {\n            const msg = 'Menos de dois snapshots para comparar';\n            if (parent.json) console.log(JSON.stringify({ erro: msg }));\n            else log.aviso(msg);\n            return;\n          }\n          const anterior = snaps[snaps.length - 2];\n          const atual = snaps[snaps.length - 1];\n          const diffs = compararSnapshots(anterior, atual);\n          const regressao = diffs\n            .filter(\n              (d) =>\n                d.campo === 'tempoAnaliseMs' || d.campo === 'tempoParsingMs',\n            )\n            .some((d) => d.variacaoPct > limite);\n          if (parent.json) {\n            console.log(\n              JSON.stringify(\n                {\n                  base: anterior.hashConteudo,\n                  atual: atual.hashConteudo,\n                  limite,\n                  diffs,\n                  regressao,\n                },\n                null,\n                2,\n              ),\n            );\n          } else {\n            log.info(\n              CliComandoPerfMessages.tituloComparacaoSnapshotsComIcone(\n                ICONES_DIAGNOSTICO.info,\n              ),\n            );\n            diffs.forEach((d) => {\n              log.info(\n                `  ${d.campo}: ${d.anterior ?? '-'} => ${d.novo ?? '-'} (${formatPct(d.variacaoPct)})`,\n              );\n            });\n            if (regressao) logSistema.performanceRegressaoDetectada(limite);\n            else logSistema.performanceSemRegressoes();\n          }\n          if (regressao) {\n            sair(ExitCode.Failure);\n            return;\n          }\n        }),\n    );\n}\n"]}