{"version":3,"file":"comando-fix-types.js","sourceRoot":"","sources":["../../../src/cli/commands/comando-fix-types.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\n/**\n * Comando fix-types - Corrige tipos inseguros (any/unknown)\n * Aplica correções automáticas baseadas em análise de uso e confiança\n */\n\nimport {\n  type CasoTipoInseguro,\n  exportarRelatoriosFixTypes,\n} from '@cli/handlers/fix-types-exporter.js';\nimport { ExitCode, sair } from '@cli/helpers/exit-codes.js';\nimport {\n  expandIncludePatterns,\n  processPatternList,\n} from '@cli/helpers/pattern-helpers.js';\nimport { config } from '@core/config/config.js';\nimport {\n  DICAS,\n  formatarTipoInseguro,\n  gerarResumoCategoria,\n  ICONES_FIX_TYPES as ICONES,\n  log,\n  MENSAGENS_AUTOFIX,\n  MENSAGENS_CLI_FIX_TYPES,\n  MENSAGENS_ERRO_FIX_TYPES as MENSAGENS_ERRO,\n  MENSAGENS_INICIO_FIX_TYPES as MENSAGENS_INICIO,\n  MENSAGENS_PROGRESSO_FIX_TYPES as MENSAGENS_PROGRESSO,\n  MENSAGENS_RESUMO,\n  MENSAGENS_SUCESSO_FIX_TYPES as MENSAGENS_SUCESSO,\n  TEMPLATE_RESUMO_FINAL,\n  TEXTOS_CATEGORIZACAO_FIX_TYPES,\n} from '@core/messages/index.js';\nimport { PROJECT_ROOT } from '@core/registry/paths.js';\nimport { Command } from 'commander';\n\nimport type { FixTypesOptions, Ocorrencia } from '@';\nimport { extrairMensagemErro } from '@';\n\nexport function criarComandoFixTypes(): Command {\n  const cmd = new Command('fix-types');\n\n  cmd\n    .description('Detecta e corrige tipos inseguros (any/unknown) no código')\n    .option(\n      '--dry-run',\n      'Mostra o que seria corrigido sem aplicar mudanças',\n      false,\n    )\n    .option(\n      '--target <path>',\n      'Diretório ou arquivo específico para analisar',\n      'src',\n    )\n    .option(\n      '--confidence <number>',\n      'Nível mínimo de confiança para aplicar correções (0-100)',\n      '85',\n    )\n    .option('--verbose', 'Mostra detalhes de cada correção', false)\n    .option('--interactive', 'Modo interativo: confirma cada correção', false)\n    .option(\n      '--export',\n      'Exporta relatórios JSON e Markdown para pasta relatorios/',\n      false,\n    )\n    .option(\n      '--include <padrao>',\n      'Glob pattern a INCLUIR (pode repetir a flag ou usar vírgulas / espaços para múltiplos)',\n      (val: string, prev: string[]) => {\n        prev.push(val);\n        return prev;\n      },\n      [] as string[],\n    )\n    .option(\n      '--exclude <padrao>',\n      'Glob pattern a EXCLUIR adicionalmente (pode repetir a flag ou usar vírgulas / espaços)',\n      (val: string, prev: string[]) => {\n        prev.push(val);\n        return prev;\n      },\n      [] as string[],\n    )\n    .action(async (options: FixTypesOptions) => {\n      try {\n        await executarFixTypes(options);\n      } catch (err) {\n        const mensagem = err instanceof Error ? err.message : String(err);\n        log.erro(MENSAGENS_CLI_FIX_TYPES.erroExecutar(mensagem));\n        if (config.DEV_MODE) {\n          console.error(extrairMensagemErro(err));\n          if (err && typeof err === 'object' && 'stack' in err) {\n            console.error((err as { stack?: string }).stack);\n          }\n        }\n        sair(ExitCode.Failure);\n        return;\n      }\n    });\n\n  return cmd;\n}\n\nasync function executarFixTypes(options: FixTypesOptions): Promise<void> {\n  const isDryRun = options.dryRun || false;\n  const minConfidence = Number(options.confidence) || 85;\n  const target = options.target || 'src';\n  const verbose = options.verbose || false;\n  const _interactive = options.interactive || false;\n\n  log.fase?.(MENSAGENS_INICIO.titulo);\n\n  // Normaliza padrões de include/exclude para sincronizar filtros com o scanner\n  const includeListRaw = processPatternList(options.include);\n  const includeList = includeListRaw.length\n    ? expandIncludePatterns(includeListRaw)\n    : [];\n  const excludeList = processPatternList(options.exclude);\n  if (includeList.length) config.CLI_INCLUDE_PATTERNS = includeList;\n  if (excludeList.length) config.CLI_EXCLUDE_PATTERNS = excludeList;\n\n  // Importações dinâmicas para evitar dependências circulares\n  const { iniciarInquisicao } = await import('@core/execution/inquisidor.js');\n  const { registroAnalistas } = await import('@analistas/registry/registry.js');\n\n  // Filtrar apenas o detector de tipos inseguros\n  const analistaTiposInseguros = registroAnalistas.find(\n    (a) => (a as { nome?: string }).nome === 'detector-tipos-inseguros',\n  );\n\n  if (!analistaTiposInseguros) {\n    log.erro(MENSAGENS_ERRO.detectorNaoEncontrado);\n    sair(ExitCode.Failure);\n    return;\n  }\n\n  log.info(MENSAGENS_INICIO.analisando(target));\n  log.info(MENSAGENS_INICIO.confianciaMin(minConfidence));\n  log.info(MENSAGENS_INICIO.modo(isDryRun));\n\n  // Executar análise com todos os analistas mas vamos filtrar depois\n  let resultado;\n  try {\n    resultado = await iniciarInquisicao(process.cwd(), {\n      includeContent: true,\n      incluirMetadados: false,\n      skipExec: false,\n    });\n  } catch (err) {\n    log.erro(\n      `Erro ao executar análise: ${err instanceof Error ? err.message : String(err)}`,\n    );\n    sair(ExitCode.Failure);\n    return;\n  }\n  const ocorrencias = resultado.ocorrencias || [];\n  const tiposInseguros = ocorrencias.filter(\n    (o: Ocorrencia) =>\n      o.tipo &&\n      [\n        'tipo-inseguro-any',\n        'tipo-inseguro-any-assertion',\n        'tipo-inseguro-any-cast',\n        'tipo-inseguro-unknown',\n      ].includes(o.tipo),\n  );\n\n  if (tiposInseguros.length === 0) {\n    log.sucesso(MENSAGENS_SUCESSO.nenhumTipoInseguro);\n    return;\n  }\n\n  log.aviso(MENSAGENS_RESUMO.encontrados(tiposInseguros.length));\n\n  // Agrupar por tipo\n  const porTipo = tiposInseguros.reduce(\n    (acc: Record<string, Ocorrencia[]>, o: Ocorrencia) => {\n      const tipo = o.tipo || 'desconhecido';\n      if (!acc[tipo]) acc[tipo] = [];\n      acc[tipo].push(o);\n      return acc;\n    },\n    {} as Record<string, Ocorrencia[]>,\n  );\n\n  // Mostrar resumo\n  for (const [tipo, ocorrenciasTipo] of Object.entries(porTipo)) {\n    const count = (ocorrenciasTipo as Ocorrencia[]).length;\n    log.info(\n      MENSAGENS_CLI_FIX_TYPES.linhaResumoTipo(\n        formatarTipoInseguro(tipo, count),\n      ),\n    );\n  }\n\n  console.log();\n\n  // Se for dry-run, mostrar exemplos e sair\n  if (isDryRun) {\n    log.fase?.(MENSAGENS_CLI_FIX_TYPES.exemplosDryRunTitulo);\n\n    const exemplos = tiposInseguros.slice(0, 10);\n    for (const o of exemplos) {\n      const prefixo = o.tipo === 'tipo-inseguro-any' ? '[ERRO]' : '[AVISO]';\n      log.info(\n        MENSAGENS_CLI_FIX_TYPES.exemploLinha(\n          prefixo,\n          o.relPath,\n          String(o.linha || '?'),\n        ),\n      );\n      if (o.mensagem) {\n        log.info(MENSAGENS_CLI_FIX_TYPES.exemploMensagem(o.mensagem));\n      }\n      // Contexto está em outras propriedades se disponível\n      if (verbose && o.mensagem) {\n        const match = o.mensagem.match(/variável '([^']+)'/);\n        if (match) {\n          log.debug(MENSAGENS_CLI_FIX_TYPES.debugVariavel(match[1]));\n        }\n      }\n    }\n\n    if (tiposInseguros.length > 10) {\n      log.info(\n        MENSAGENS_CLI_FIX_TYPES.maisOcorrencias(tiposInseguros.length - 10),\n      );\n    }\n\n    console.log();\n    log.info(DICAS.removerDryRun);\n    log.info(DICAS.usarInterativo);\n    log.info(DICAS.ajustarConfianca(minConfidence));\n    return;\n  }\n\n  // Aplicar correções\n  log.fase?.(MENSAGENS_CLI_FIX_TYPES.aplicandoCorrecoesAuto);\n\n  // Importar quick fixes (exportações nomeadas)\n  const { fixAnyToProperType } =\n    await import('@analistas/corrections/quick-fixes/fix-any-to-proper-type.js');\n  const { fixUnknownToSpecificType } =\n    await import('@analistas/corrections/quick-fixes/fix-unknown-to-specific-type.js');\n\n  if (!fixAnyToProperType || !fixUnknownToSpecificType) {\n    log.erro(MENSAGENS_ERRO.modulosNaoEncontrados);\n    sair(ExitCode.Failure);\n    return;\n  }\n  const _corrigidas = 0;\n  let _erros = 0;\n  const _arquivosModificados = new Set<string>(); // Agrupar por arquivo para processar de forma eficiente\n  const porArquivo = tiposInseguros.reduce(\n    (acc: Record<string, Ocorrencia[]>, o: Ocorrencia) => {\n      const arquivo = o.relPath || 'desconhecido';\n      if (!acc[arquivo]) acc[arquivo] = [];\n      acc[arquivo].push(o);\n      return acc;\n    },\n    {} as Record<string, Ocorrencia[]>,\n  );\n\n  log.info(\n    MENSAGENS_PROGRESSO.processandoArquivos(Object.keys(porArquivo).length),\n  );\n  log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n\n  // Importar categorizador\n  const { categorizarUnknown, extractLineContext } =\n    await import('@analistas/corrections/type-safety/context-analyzer.js');\n\n  // Estatísticas de categorização\n  const stats = {\n    legitimo: 0,\n    melhoravel: 0,\n    corrigir: 0,\n    totalConfianca: 0,\n  };\n\n  // Categorizar cada ocorrência\n  const ocorrenciasCategorizadas: Array<{\n    ocorrencia: Ocorrencia;\n    categoria: 'legitimo' | 'melhoravel' | 'corrigir';\n    confianca: number;\n    motivo: string;\n    sugestao?: string;\n    variantes?: string[];\n  }> = [];\n\n  for (const [arquivo, ocorrenciasArquivo] of Object.entries(porArquivo)) {\n    if (verbose) {\n      log.info(\n        MENSAGENS_PROGRESSO.arquivoAtual(\n          arquivo,\n          (ocorrenciasArquivo as Ocorrencia[]).length,\n        ),\n      );\n    }\n\n    for (const ocorrencia of ocorrenciasArquivo as Ocorrencia[]) {\n      const tipo = ocorrencia.tipo;\n\n      // any declaration sempre é corrigir\n      if (tipo === 'tipo-inseguro-any') {\n        ocorrenciasCategorizadas.push({\n          ocorrencia,\n          categoria: 'corrigir',\n          confianca: 95,\n          motivo: TEXTOS_CATEGORIZACAO_FIX_TYPES.anyMotivo,\n          sugestao: TEXTOS_CATEGORIZACAO_FIX_TYPES.anySugestao,\n        });\n        stats.corrigir++;\n        stats.totalConfianca += 95;\n        if (verbose) {\n          log.aviso(\n            MENSAGENS_CLI_FIX_TYPES.verboseAnyDetectado(\n              arquivo,\n              String(ocorrencia.linha || '?'),\n            ),\n          );\n        }\n        _erros++;\n        continue;\n      }\n\n      // Type assertions (as any) são CRÍTICOS - confiança 100%\n      if (tipo === 'tipo-inseguro-any-assertion') {\n        ocorrenciasCategorizadas.push({\n          ocorrencia,\n          categoria: 'corrigir',\n          confianca: 100,\n          motivo: TEXTOS_CATEGORIZACAO_FIX_TYPES.asAnyMotivo,\n          sugestao: TEXTOS_CATEGORIZACAO_FIX_TYPES.asAnySugestao,\n        });\n        stats.corrigir++;\n        stats.totalConfianca += 100;\n        if (verbose) {\n          log.erro(\n            MENSAGENS_CLI_FIX_TYPES.verboseAsAnyCritico(\n              arquivo,\n              String(ocorrencia.linha || '?'),\n            ),\n          );\n        }\n        _erros++;\n        continue;\n      }\n\n      // Angle bracket casting (<any>) são CRÍTICOS - confiança 100%\n      if (tipo === 'tipo-inseguro-any-cast') {\n        ocorrenciasCategorizadas.push({\n          ocorrencia,\n          categoria: 'corrigir',\n          confianca: 100,\n          motivo: TEXTOS_CATEGORIZACAO_FIX_TYPES.angleAnyMotivo,\n          sugestao: TEXTOS_CATEGORIZACAO_FIX_TYPES.angleAnySugestao,\n        });\n        stats.corrigir++;\n        stats.totalConfianca += 100;\n        if (verbose) {\n          log.erro(\n            MENSAGENS_CLI_FIX_TYPES.verboseAngleAnyCritico(\n              arquivo,\n              String(ocorrencia.linha || '?'),\n            ),\n          );\n        }\n        _erros++;\n        continue;\n      }\n\n      // unknown - categorizar\n      if (tipo === 'tipo-inseguro-unknown') {\n        // Precisamos do código fonte para categorizar\n        const fs = await import('node:fs/promises');\n        const path = await import('node:path');\n        try {\n          const fullPath = path.join(PROJECT_ROOT, arquivo);\n          const codigo = await fs.readFile(fullPath, 'utf-8');\n          const lineContext = extractLineContext(\n            codigo,\n            (ocorrencia.linha || 1) * 80,\n          ); // aproximação\n\n          const categorizacao = categorizarUnknown(\n            codigo,\n            arquivo,\n            lineContext,\n          );\n\n          ocorrenciasCategorizadas.push({\n            ocorrencia,\n            ...categorizacao,\n          });\n\n          stats[categorizacao.categoria]++;\n          stats.totalConfianca += categorizacao.confianca;\n\n          if (verbose) {\n            const prefixos = {\n              legitimo: '[SUCESSO]',\n              melhoravel: '[AVISO]',\n              corrigir: '[ERRO]',\n            };\n            const prefixo = prefixos[categorizacao.categoria];\n            log.info(\n              MENSAGENS_CLI_FIX_TYPES.verboseUnknownCategoria(\n                prefixo,\n                arquivo,\n                String(ocorrencia.linha || '?'),\n                categorizacao.categoria,\n                categorizacao.confianca,\n              ),\n            );\n            log.info(\n              MENSAGENS_CLI_FIX_TYPES.verboseMotivo(categorizacao.motivo),\n            );\n            if (categorizacao.sugestao) {\n              log.info(\n                MENSAGENS_CLI_FIX_TYPES.verboseSugestao(categorizacao.sugestao),\n              );\n            }\n\n            // Mostrar variantes quando análise é incerta (confiança < 80%)\n            if (categorizacao.variantes && categorizacao.confianca < 80) {\n              log.info(MENSAGENS_CLI_FIX_TYPES.verboseVariantesTitulo);\n              categorizacao.variantes.forEach((variante, idx) => {\n                log.info(\n                  MENSAGENS_CLI_FIX_TYPES.verboseVarianteItem(\n                    idx + 1,\n                    variante,\n                  ),\n                );\n              });\n            }\n          }\n        } catch {\n          // Se não conseguir ler o arquivo, classificar como melhorável\n          ocorrenciasCategorizadas.push({\n            ocorrencia,\n            categoria: 'melhoravel',\n            confianca: 60,\n            motivo: TEXTOS_CATEGORIZACAO_FIX_TYPES.semContextoMotivo,\n            sugestao: TEXTOS_CATEGORIZACAO_FIX_TYPES.semContextoSugestao,\n          });\n          stats.melhoravel++;\n          stats.totalConfianca += 60;\n        }\n      }\n    }\n  }\n\n  // Resumo de categorização\n  console.log();\n  log.fase?.(MENSAGENS_RESUMO.tituloCategorizacao);\n  log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n\n  const total = stats.legitimo + stats.melhoravel + stats.corrigir;\n  const mediaConfianca =\n    total > 0 ? Math.round(stats.totalConfianca / total) : 0;\n\n  // LEGÍTIMO\n  const linhasLegitimo = gerarResumoCategoria(\n    'LEGITIMO',\n    stats.legitimo,\n    total,\n  );\n  log.sucesso(linhasLegitimo[0]);\n  log.info(linhasLegitimo[1]);\n  log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n\n  // MELHORÁVEL\n  const linhasMelhoravel = gerarResumoCategoria(\n    'MELHORAVEL',\n    stats.melhoravel,\n    total,\n  );\n  log.aviso(linhasMelhoravel[0]);\n  log.info(linhasMelhoravel[1]);\n  log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n\n  // CORRIGIR\n  const linhasCorrigir = gerarResumoCategoria(\n    'CORRIGIR',\n    stats.corrigir,\n    total,\n  );\n  log.erro(linhasCorrigir[0]);\n  log.info(linhasCorrigir[1]);\n  log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n\n  log.info(MENSAGENS_RESUMO.confianciaMedia(mediaConfianca));\n  log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n\n  // Salvar detalhes em arquivo para análise\n  if (verbose) {\n    const fs = await import('node:fs/promises');\n    const path = await import('node:path');\n    const reportPath = path.join(\n      PROJECT_ROOT,\n      '.oraculo',\n      'fix-types-analise.json',\n    );\n    await fs.mkdir(path.dirname(reportPath), { recursive: true });\n    await fs.writeFile(\n      reportPath,\n      JSON.stringify(\n        {\n          timestamp: new Date().toISOString(),\n          stats,\n          mediaConfianca,\n          total,\n          casos: ocorrenciasCategorizadas.map((c) => ({\n            arquivo: c.ocorrencia.relPath,\n            linha: c.ocorrencia.linha,\n            categoria: c.categoria,\n            confianca: c.confianca,\n            motivo: c.motivo,\n            sugestao: c.sugestao,\n            variantes: c.variantes || [],\n          })),\n        },\n        null,\n        2,\n      ),\n    );\n    log.info(MENSAGENS_CLI_FIX_TYPES.analiseDetalhadaSalva);\n    log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n  }\n\n  // Exibir casos de alta prioridade\n  const altaPrioridade = ocorrenciasCategorizadas.filter(\n    (c) => c.categoria === 'corrigir' && c.confianca >= 85,\n  );\n\n  if (altaPrioridade.length > 0) {\n    log.fase?.(\n      MENSAGENS_CLI_FIX_TYPES.altaConfiancaTitulo(altaPrioridade.length),\n    );\n    log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n    for (const item of altaPrioridade.slice(0, 5)) {\n      log.info(\n        MENSAGENS_CLI_FIX_TYPES.altaConfiancaLinha(\n          item.ocorrencia.relPath,\n          String(item.ocorrencia.linha || '?'),\n          item.confianca,\n        ),\n      );\n      log.info(\n        MENSAGENS_CLI_FIX_TYPES.altaConfiancaDetalhe(\n          item.sugestao || item.motivo,\n        ),\n      );\n    }\n    if (altaPrioridade.length > 5) {\n      log.info(\n        MENSAGENS_CLI_FIX_TYPES.altaConfiancaMais(altaPrioridade.length - 5),\n      );\n    }\n    log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n  }\n\n  // Exibir casos incertos com variantes (baixa confiança)\n  const casosIncertos = ocorrenciasCategorizadas.filter(\n    (c) => c.confianca < 70 && c.variantes && c.variantes.length > 0,\n  );\n\n  if (casosIncertos.length > 0 && verbose) {\n    log.fase?.(MENSAGENS_CLI_FIX_TYPES.incertosTitulo(casosIncertos.length));\n    log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n    log.info(MENSAGENS_CLI_FIX_TYPES.incertosIntro);\n    log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n    for (const item of casosIncertos.slice(0, 3)) {\n      log.info(\n        MENSAGENS_CLI_FIX_TYPES.incertosLinha(\n          item.ocorrencia.relPath,\n          String(item.ocorrencia.linha || '?'),\n          item.confianca,\n        ),\n      );\n      log.info(MENSAGENS_CLI_FIX_TYPES.verboseMotivo(item.motivo));\n      if (item.variantes) {\n        log.info(MENSAGENS_CLI_FIX_TYPES.verboseVariantesTitulo);\n        item.variantes.forEach((variante: string, idx: number) => {\n          log.info(\n            MENSAGENS_CLI_FIX_TYPES.verboseVarianteItem(idx + 1, variante),\n          );\n        });\n      }\n      log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n    }\n    if (casosIncertos.length > 3) {\n      log.info(MENSAGENS_CLI_FIX_TYPES.incertosMais(casosIncertos.length - 3));\n      log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n    }\n  }\n\n  // ✨ APLICAR CORREÇÕES AUTOMÁTICAS\n  if (!isDryRun && altaPrioridade.length > 0) {\n    console.log();\n    log.fase?.(MENSAGENS_CLI_FIX_TYPES.aplicandoCorrecoesAuto);\n    log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n\n    const { aplicarCorrecoesEmLote } =\n      await import('@analistas/corrections/auto-fix-engine.js');\n\n    // Agrupar ocorrências por arquivo\n    const porArquivo: Record<\n      string,\n      Array<{\n        ocorrencia: Ocorrencia;\n        categoria: 'legitimo' | 'melhoravel' | 'corrigir';\n        confianca: number;\n        sugestao?: string;\n      }>\n    > = {};\n\n    for (const item of ocorrenciasCategorizadas) {\n      const arquivo = item.ocorrencia.relPath || 'desconhecido';\n      if (!porArquivo[arquivo]) {\n        porArquivo[arquivo] = [];\n      }\n      porArquivo[arquivo].push(item);\n    }\n\n    const resultado = await aplicarCorrecoesEmLote(porArquivo, {\n      dryRun: false,\n      minConfianca: 85, // Apenas correções de alta confiança\n      verbose: Boolean(verbose),\n      interactive: false,\n    });\n\n    console.log();\n    if (resultado.sucesso > 0) {\n      log.sucesso(\n        MENSAGENS_CLI_FIX_TYPES.correcoesResumoSucesso(resultado.sucesso),\n      );\n\n      for (const res of resultado.resultados) {\n        if (res.sucesso && res.linhasModificadas > 0) {\n          log.info(\n            MENSAGENS_CLI_FIX_TYPES.correcoesResumoLinhaOk(\n              res.arquivo,\n              res.linhasModificadas,\n            ),\n          );\n        } else if (!res.sucesso) {\n          log.erro(\n            MENSAGENS_CLI_FIX_TYPES.correcoesResumoLinhaErro(\n              res.arquivo,\n              res.erro,\n            ),\n          );\n        }\n      }\n    } else {\n      log.info(MENSAGENS_SUCESSO.nenhumaCorrecao);\n    }\n\n    if (resultado.falhas > 0) {\n      console.log();\n      log.erro(MENSAGENS_CLI_FIX_TYPES.correcoesResumoFalhas(resultado.falhas));\n    }\n\n    console.log();\n    log.info(MENSAGENS_AUTOFIX.dicas.executarLint);\n    log.info(MENSAGENS_AUTOFIX.dicas.executarBuild);\n  } else if (isDryRun) {\n    // Modo dry-run - apenas mostrar o que seria feito\n    console.log();\n    log.aviso(MENSAGENS_CLI_FIX_TYPES.dryRunAviso(ICONES.inicio));\n    log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n    log.info(TEMPLATE_RESUMO_FINAL.titulo);\n    for (const passo of TEMPLATE_RESUMO_FINAL.passos) {\n      log.info(MENSAGENS_CLI_FIX_TYPES.templatePasso(passo));\n    }\n    log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n    log.info(MENSAGENS_AUTOFIX.dicas.removerDryRun);\n  } else {\n    // Nenhuma correção de alta prioridade\n    console.log();\n    log.info(MENSAGENS_SUCESSO.nenhumAltaConfianca);\n    log.info(MENSAGENS_CLI_FIX_TYPES.linhaEmBranco);\n    log.info(MENSAGENS_AUTOFIX.dicas.ajustarConfianca);\n  }\n\n  // Exportar relatórios se solicitado\n  if (options.export || config.REPORT_EXPORT_ENABLED) {\n    console.log();\n    log.fase?.(MENSAGENS_CLI_FIX_TYPES.exportandoRelatorios);\n\n    // Converter ocorrenciasCategorizadas para CasoTipoInseguro\n    const casosParaExport: CasoTipoInseguro[] = ocorrenciasCategorizadas.map(\n      (item) => ({\n        arquivo: item.ocorrencia.relPath || 'desconhecido',\n        linha: item.ocorrencia.linha,\n        tipo: item.ocorrencia.tipo as\n          | 'tipo-inseguro-any'\n          | 'tipo-inseguro-unknown',\n        categoria: item.categoria,\n        confianca: item.confianca,\n        motivo: item.motivo,\n        sugestao: item.sugestao,\n        variantes: item.variantes,\n        contexto:\n          'contexto' in item.ocorrencia\n            ? (item.ocorrencia as { contexto?: string }).contexto\n            : undefined,\n      }),\n    );\n\n    const resultado = await exportarRelatoriosFixTypes({\n      baseDir: PROJECT_ROOT,\n      casos: casosParaExport,\n      stats,\n      minConfidence,\n      verbose: Boolean(verbose),\n    });\n\n    if (resultado) {\n      console.log();\n    }\n  }\n\n  // Exit code baseado na severidade\n  const temAny = porTipo['tipo-inseguro-any']?.length > 0;\n  if (temAny && !isDryRun) {\n    sair(ExitCode.Failure); // Exit com erro se houver any (mais severo)\n    return;\n  }\n}\n"]}