{"version":3,"file":"analista-comandos-cli.js","sourceRoot":"","sources":["../../../src/analistas/js-ts/analista-comandos-cli.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\n//  tipo-inseguro-unknown\n// Justificativa: unknown é usado para manipulação segura de nós AST com tipagem defensiva\nimport type { NodePath } from '/traverse';\nimport type {\n  ArrowFunctionExpression,\n  BlockStatement,\n  CallExpression,\n  ClassDeclaration,\n  ClassMethod,\n  FunctionDeclaration,\n  FunctionExpression,\n  Identifier,\n  ImportDeclaration,\n  MemberExpression,\n  NewExpression,\n  Node,\n  StringLiteral,\n  VariableDeclaration,\n  VariableDeclarator,\n} from '/types';\nimport * as t from '/types';\nimport { traverse } from '/config/traverse.js';\nimport { ComandosCliMessages } from '/messages/analistas/analista-comandos-cli-messages.js';\nimport {\n  detectarContextoProjeto,\n  isRelevanteParaAnalise,\n} from '/contexto-projeto.js';\n\nimport type {\n  ComandoRegistro,\n  ContextoExecucao,\n  HandlerInfo,\n  Ocorrencia,\n  TecnicaAplicarResultado,\n} from '@';\nimport { isBabelNode } from '@';\n\ntype BabelNode = Node;\n\nexport function extractHandlerInfo(node: Node | unknown): HandlerInfo | null {\n  if (!node || !isBabelNode(node)) return null;\n  const n = node as Node;\n\n  if (t.isFunctionDeclaration(n) && n.body && t.isBlockStatement(n.body)) {\n    const rawParams = Array.isArray(n.params) ? n.params : [];\n    const params: t.Identifier[] = rawParams.filter((p): p is t.Identifier =>\n      t.isIdentifier(p as t.Node),\n    );\n    return {\n      func: n,\n      bodyBlock: n.body as BlockStatement,\n      isAnonymous: !n.id,\n      params,\n      totalParams: rawParams.length,\n    };\n  }\n\n  if (\n    (t.isFunctionExpression(n) || t.isArrowFunctionExpression(n)) &&\n    n.body &&\n    t.isBlockStatement(n.body)\n  ) {\n    const rawParams = Array.isArray(n.params) ? n.params : [];\n    const params: t.Identifier[] = rawParams.filter((p): p is t.Identifier =>\n      t.isIdentifier(p as t.Node),\n    );\n    const isAnonymous = t.isFunctionExpression(n) ? !n.id : true;\n    return {\n      func: n,\n      bodyBlock: n.body as BlockStatement,\n      isAnonymous,\n      params,\n      totalParams: rawParams.length,\n    };\n  }\n\n  return null;\n}\n\nexport const analistaComandosCli = {\n  nome: 'analista-comandos-cli',\n  test: (relPath: string): boolean => {\n    const p = relPath.replace(/\\\\/g, '/').toLowerCase();\n    if (\n      /(^|\\/)tests?(\\/)/i.test(p) ||\n      /\\.(test|spec)\\.(ts|js|tsx|jsx)$/i.test(p)\n    )\n      return false;\n    return /(\\.ts|\\.tsx|\\.js|\\.jsx)$/.test(p);\n  },\n\n  aplicar(\n    conteudo: string,\n    arquivo: string,\n    ast: NodePath | null,\n    _fullPath?: string,\n    _contexto?: ContextoExecucao,\n  ): TecnicaAplicarResultado {\n    const ocorrencias: Ocorrencia[] = [];\n\n    const contextoProjeto = detectarContextoProjeto({\n      arquivo,\n      conteudo,\n      relPath: arquivo,\n    });\n    if (!isRelevanteParaAnalise(contextoProjeto, 'comando')) return [];\n\n    const comandos: ComandoRegistro[] = [];\n    const comandoNomes: string[] = [];\n    let comandosInvocados = 0;\n    let hasFrameworkSignal = false;\n    const commandClassNames = new Set<string>(['Command']);\n\n    if (!ast) return [];\n\n    function registrar(\n      node: Node | undefined,\n      comandoNome: string,\n      handler: Node | undefined,\n      origemFramework: string,\n    ) {\n      comandosInvocados++;\n      if (comandoNome) comandoNomes.push(comandoNome);\n      const userInfo = extractHandlerInfo(handler as Node | undefined);\n      const registro: ComandoRegistro = {\n        comandoNome,\n        id: undefined,\n        timestamp: new Date().toISOString(),\n        origemFramework,\n      };\n      // normalize into minimal shape expected by downstream checks\n      registro.handler = userInfo\n        ? ({ ...userInfo } as HandlerInfo)\n        : undefined;\n      registro.node = node as Node | undefined;\n      comandos.push(registro);\n    }\n\n    function extrairNomeDeCadeia(call: t.CallExpression): string {\n      let current: t.Node | null = call as t.Node;\n      const visitados = new Set<t.Node>();\n      while (current && !visitados.has(current)) {\n        visitados.add(current);\n        if (\n          t.isCallExpression(current) &&\n          t.isMemberExpression(current.callee)\n        ) {\n          const callee = current.callee;\n          const prop = callee.property;\n          if (t.isIdentifier(prop) && prop.name === 'command') {\n            const arg0 = current.arguments && current.arguments[0];\n            if (arg0 && t.isStringLiteral(arg0)) return arg0.value;\n          }\n          const owner = callee.object;\n          if (t.isCallExpression(owner)) {\n            current = owner as t.Node;\n            continue;\n          } else if (t.isMemberExpression(owner)) {\n            current = owner.object as t.Node;\n            continue;\n          } else {\n            break;\n          }\n        } else if (t.isMemberExpression(current)) {\n          current = current.object as t.Node;\n          continue;\n        }\n        break;\n      }\n      return '';\n    }\n\n    traverse(ast.node, {\n      enter(path: NodePath<t.Node>) {\n        const nodeAtual = path.node as BabelNode;\n        if (t.isNewExpression(nodeAtual)) {\n          const newExpr = nodeAtual as NewExpression;\n          if (\n            t.isIdentifier(newExpr.callee) &&\n            newExpr.callee.name === 'Command'\n          ) {\n            hasFrameworkSignal = true;\n            let nome = '';\n            const arg0 = newExpr.arguments && newExpr.arguments[0];\n            if (arg0 && t.isStringLiteral(arg0))\n              nome = (arg0 as StringLiteral).value;\n            if (comandosInvocados === 0) {\n              comandosInvocados++;\n              if (nome) comandoNomes.push(nome);\n            }\n          }\n        }\n\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as t.CallExpression;\n          const callee = call.callee as CallExpression['callee'];\n          if (t.isMemberExpression(callee)) {\n            const prop = (callee as MemberExpression).property as\n              | Identifier\n              | t.Expression;\n            if (t.isIdentifier(prop)) {\n              if (\n                [\n                  'addSlashCommand',\n                  'setName',\n                  'setDescription',\n                  'addStringOption',\n                  'addUserOption',\n                  'addChannelOption',\n                ].includes(prop.name)\n              ) {\n                hasFrameworkSignal = true;\n                if (comandosInvocados === 0) {\n                  comandosInvocados++;\n                  const arg0 = call.arguments && call.arguments[0];\n                  const nome =\n                    prop.name === 'setName' && arg0 && t.isStringLiteral(arg0)\n                      ? (arg0 as StringLiteral).value\n                      : 'slash-command';\n                  comandoNomes.push(nome);\n                }\n              }\n              if (\n                ['isCommand', 'isChatInputCommand', 'isAutocomplete'].includes(\n                  prop.name,\n                )\n              ) {\n                hasFrameworkSignal = true;\n                if (comandosInvocados === 0) comandosInvocados++;\n              }\n            }\n          }\n        }\n\n        if (t.isMemberExpression(nodeAtual)) {\n          const member = nodeAtual as MemberExpression;\n          const prop = member.property as Identifier | t.Expression;\n          if (\n            t.isIdentifier(prop) &&\n            [\n              'commandName',\n              'options',\n              'isCommand',\n              'reply',\n              'editReply',\n              'deferReply',\n            ].includes(prop.name)\n          ) {\n            hasFrameworkSignal = true;\n            if (comandosInvocados === 0) comandosInvocados++;\n          }\n        }\n\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as t.CallExpression;\n          const callee = call.callee as CallExpression['callee'];\n          if (t.isMemberExpression(callee)) {\n            const propId = (callee as MemberExpression).property as\n              | Identifier\n              | t.Expression;\n            if (\n              t.isIdentifier(propId) &&\n              [\n                'option',\n                'description',\n                'alias',\n                'argument',\n                'usage',\n                'help',\n              ].includes(propId.name)\n            ) {\n              hasFrameworkSignal = true;\n            }\n          }\n        }\n\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as CallExpression;\n          const callee = call.callee;\n          if (\n            t.isIdentifier(callee) &&\n            ['onCommand', 'registerCommand'].includes(callee.name)\n          ) {\n            let comandoNome = '';\n            const primeiroArg = call.arguments && call.arguments[0];\n            if (primeiroArg && t.isStringLiteral(primeiroArg))\n              comandoNome = (primeiroArg as StringLiteral).value;\n            const handler =\n              call.arguments && call.arguments.length > 1\n                ? call.arguments[1]\n                : undefined;\n            registrar(\n              call,\n              comandoNome,\n              handler as Node | undefined,\n              'generico',\n            );\n            return;\n          }\n        }\n\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as CallExpression;\n          const callee = call.callee as CallExpression['callee'];\n          if (t.isMemberExpression(callee)) {\n            const prop = (callee as MemberExpression).property as\n              | Identifier\n              | t.Expression;\n            if (t.isIdentifier(prop)) {\n              if (prop.name === 'action') {\n                const handler =\n                  call.arguments && (call.arguments[0] as Node | undefined);\n                const nome = extrairNomeDeCadeia(call);\n                registrar(call, nome, handler, 'commander');\n                return;\n              }\n              if (prop.name === 'command') {\n                const args = call.arguments || [];\n                const nameArg = args[0];\n                let nome = '';\n                if (nameArg && t.isStringLiteral(nameArg))\n                  nome = (nameArg as StringLiteral).value;\n                let handler: Node | undefined;\n                for (let i = args.length - 1; i >= 0; i--) {\n                  const a = args[i] as Node;\n                  if (\n                    t.isFunctionExpression(a) ||\n                    t.isArrowFunctionExpression(a)\n                  ) {\n                    handler = a as Node;\n                    break;\n                  }\n                }\n                registrar(call, nome, handler, 'multi');\n                return;\n              }\n            }\n          }\n        }\n\n        if (t.isCallExpression(nodeAtual)) {\n          const call = nodeAtual as CallExpression;\n          const callee = call.callee as CallExpression['callee'];\n          if (t.isMemberExpression(callee)) {\n            const configObject = (callee as MemberExpression).object;\n            const prop = (callee as MemberExpression).property as\n              | Identifier\n              | t.Expression;\n            if (\n              t.isIdentifier(prop) &&\n              prop.name === 'command' &&\n              t.isIdentifier(configObject) &&\n              /yargs?/i.test(configObject.name)\n            ) {\n              const args = call.arguments || [];\n              let nome = '';\n              if (args[0] && t.isStringLiteral(args[0]))\n                nome = (args[0] as StringLiteral).value;\n              const handlerCandidates = args.filter(\n                (a: unknown) =>\n                  t.isFunctionExpression(a as Node) ||\n                  t.isArrowFunctionExpression(a as Node),\n              );\n              const handler = handlerCandidates.at(-1) as Node | undefined;\n              registrar(call, nome, handler, 'yargs');\n              return;\n            }\n          }\n        }\n\n        if (t.isClassDeclaration(nodeAtual)) {\n          const cls = nodeAtual as ClassDeclaration;\n          if (\n            cls.superClass &&\n            t.isIdentifier(cls.superClass) &&\n            cls.superClass.name === 'Command'\n          ) {\n            const className = cls.id?.name || '';\n            const bodyArray = (cls.body as { body?: unknown }).body;\n            const isRunMethod = (m: unknown): m is ClassMethod => {\n              if (!t.isClassMethod(m as Node)) return false;\n              const km = (m as ClassMethod).key;\n              return t.isIdentifier(km) && km.name === 'run';\n            };\n            const bodyElem = Array.isArray(bodyArray)\n              ? (bodyArray.find(isRunMethod) as ClassMethod | undefined)\n              : undefined;\n            if (\n              bodyElem &&\n              t.isBlockStatement(\n                (bodyElem as unknown as { body?: unknown }).body as t.Node,\n              )\n            ) {\n              registrar(\n                t.callExpression(t.identifier('oclifRun'), []),\n                className,\n                bodyElem as Node,\n                'oclif',\n              );\n              return;\n            }\n          }\n        }\n\n        if (t.isImportDeclaration(nodeAtual)) {\n          const imp = nodeAtual as ImportDeclaration;\n          if (\n            typeof imp.source.value === 'string' &&\n            /commander/.test(imp.source.value)\n          ) {\n            for (const spec of imp.specifiers) {\n              if (\n                t.isImportSpecifier(spec) &&\n                t.isIdentifier(spec.imported) &&\n                spec.imported.name === 'Command'\n              ) {\n                if (t.isIdentifier(spec.local))\n                  commandClassNames.add(spec.local.name);\n              }\n            }\n          }\n        }\n\n        if (\n          t.isFunctionDeclaration(nodeAtual) ||\n          t.isFunctionExpression(nodeAtual) ||\n          t.isArrowFunctionExpression(nodeAtual)\n        ) {\n          const fn = nodeAtual as\n            | FunctionDeclaration\n            | FunctionExpression\n            | ArrowFunctionExpression;\n          const body = (fn as unknown as { body?: unknown }).body as\n            | BlockStatement\n            | undefined;\n          if (body && t.isBlockStatement(body)) {\n            const createdVars = new Set<string>();\n            for (const stmt of body.body || []) {\n              if (t.isVariableDeclaration(stmt)) {\n                const varDecl = stmt as VariableDeclaration;\n                for (const d of varDecl.declarations) {\n                  const decl = d as VariableDeclarator;\n                  if (\n                    decl.id &&\n                    t.isIdentifier(decl.id) &&\n                    decl.init &&\n                    t.isNewExpression(decl.init) &&\n                    t.isIdentifier(decl.init.callee) &&\n                    commandClassNames.has(decl.init.callee.name)\n                  ) {\n                    createdVars.add(decl.id.name);\n                  }\n                }\n              }\n              if (t.isExpressionStatement(stmt)) {\n                const exprStmt =\n                  stmt as import('/types').ExpressionStatement;\n                if (\n                  t.isCallExpression(exprStmt.expression) &&\n                  t.isMemberExpression(exprStmt.expression.callee)\n                ) {\n                  const callee = exprStmt.expression.callee as MemberExpression;\n                  const configObject = callee.object;\n                  if (\n                    t.isIdentifier(configObject) &&\n                    createdVars.has(configObject.name)\n                  ) {\n                    hasFrameworkSignal = true;\n                  }\n                }\n              }\n            }\n            for (const stmt of body.body || []) {\n              if (\n                t.isReturnStatement(stmt) &&\n                stmt.argument &&\n                t.isIdentifier(stmt.argument) &&\n                createdVars.has(stmt.argument.name)\n              ) {\n                hasFrameworkSignal = true;\n                if (comandosInvocados === 0) {\n                  comandosInvocados++;\n                }\n              }\n            }\n          }\n        }\n      },\n    });\n\n    if (comandosInvocados === 0 && !hasFrameworkSignal) {\n      if (\n        (contextoProjeto.isBot || contextoProjeto.isCLI) &&\n        !contextoProjeto.isInfrastructure\n      ) {\n        ocorrencias.push({\n          tipo: 'padrao-ausente',\n          nivel: 'info',\n          mensagem: ComandosCliMessages.padraoAusente,\n          relPath: arquivo,\n          origem: 'analista-comandos-cli',\n        });\n      }\n    }\n\n    const duplicados = comandoNomes.filter(\n      (item, idx) => item && comandoNomes.indexOf(item) !== idx,\n    );\n    if (duplicados.length > 0) {\n      ocorrencias.push({\n        tipo: 'padrao-problematico',\n        nivel: 'aviso',\n        mensagem: ComandosCliMessages.comandosDuplicados(duplicados),\n        relPath: arquivo,\n        origem: 'analista-comandos-cli',\n      });\n    }\n\n    for (const cmd of comandos) {\n      const { comandoNome, node } = cmd;\n      const handlerInfo = cmd.handler;\n      let linha = 1;\n\n      function getNumberProp(obj: unknown, prop: string): number | undefined {\n        if (typeof obj !== 'object' || obj === null) return undefined;\n        const o = obj as Record<string, unknown>;\n        const v = o[prop];\n        return typeof v === 'number' ? v : undefined;\n      }\n\n      function extractLineFromNode(obj: unknown): number | undefined {\n        if (typeof obj !== 'object' || obj === null) return undefined;\n        const o = obj as Record<string, unknown>;\n        const loc = o.loc;\n        if (typeof loc !== 'object' || loc === null) return undefined;\n        const start = (loc as Record<string, unknown>).start;\n        if (typeof start !== 'object' || start === null) return undefined;\n        const line = (start as Record<string, unknown>).line;\n        return typeof line === 'number' ? line : undefined;\n      }\n\n      // try handlerInfo first, then node\n      const fromHandler = extractLineFromNode(handlerInfo);\n      const fromNode = extractLineFromNode(node);\n      if (typeof fromHandler === 'number') linha = fromHandler;\n      else if (typeof fromNode === 'number') linha = fromNode;\n      if (!handlerInfo || !handlerInfo.bodyBlock) {\n        continue;\n      }\n      const statements = Array.isArray(handlerInfo.bodyBlock.body)\n        ? handlerInfo.bodyBlock.body\n        : [];\n      if (handlerInfo.isAnonymous && comandoNome) {\n        ocorrencias.push({\n          tipo: 'padrao-problematico',\n          nivel: 'aviso',\n          mensagem: ComandosCliMessages.handlerAnonimo(comandoNome),\n          relPath: arquivo,\n          linha,\n          origem: 'analista-comandos-cli',\n        });\n      }\n      const paramCount =\n        handlerInfo.totalParams ??\n        (Array.isArray(handlerInfo.params) ? handlerInfo.params.length : 0);\n      if (paramCount > 3) {\n        ocorrencias.push({\n          tipo: 'padrao-problematico',\n          nivel: 'aviso',\n          mensagem: ComandosCliMessages.handlerMuitosParametros(\n            comandoNome,\n            paramCount,\n          ),\n          relPath: arquivo,\n          linha,\n          origem: 'analista-comandos-cli',\n        });\n      }\n      if (statements.length > 30) {\n        ocorrencias.push({\n          tipo: 'padrao-problematico',\n          nivel: 'aviso',\n          mensagem: ComandosCliMessages.handlerMuitoLongo(\n            comandoNome,\n            statements.length,\n          ),\n          relPath: arquivo,\n          linha,\n          origem: 'analista-comandos-cli',\n        });\n      }\n      if (statements.length > 0) {\n        const hasTryCatch = statements.some((stmt: unknown) =>\n          t.isTryStatement(stmt as t.Node),\n        );\n        if (!hasTryCatch) {\n          ocorrencias.push({\n            tipo: 'boa-pratica-ausente',\n            nivel: 'aviso',\n            mensagem: ComandosCliMessages.handlerSemTryCatch(comandoNome),\n            relPath: arquivo,\n            linha,\n            origem: 'analista-comandos-cli',\n          });\n        }\n        const bodyStart = getNumberProp(\n          (handlerInfo as unknown as Record<string, unknown>).bodyBlock,\n          'start',\n        );\n        const bodyEnd = getNumberProp(\n          (handlerInfo as unknown as Record<string, unknown>).bodyBlock,\n          'end',\n        );\n        const bodySlice =\n          typeof bodyStart === 'number' && typeof bodyEnd === 'number'\n            ? conteudo.substring(bodyStart, bodyEnd)\n            : '';\n        const bodySrc =\n          bodySlice && bodySlice.length > 5 ? bodySlice : conteudo;\n        const regexLog =\n          /console\\.(log|warn|error)|logger\\.|ctx\\.(reply|send|res|response)/;\n        if (!regexLog.test(bodySrc)) {\n          if (!regexLog.test(conteudo)) {\n            ocorrencias.push({\n              tipo: 'boa-pratica-ausente',\n              nivel: 'aviso',\n              mensagem: ComandosCliMessages.handlerSemFeedback(comandoNome),\n              relPath: arquivo,\n              linha,\n              origem: 'analista-comandos-cli',\n            });\n          }\n        }\n      }\n    }\n\n    if (comandos.length > 1) {\n      ocorrencias.push({\n        tipo: 'padrao-estrutural',\n        nivel: 'info',\n        mensagem: ComandosCliMessages.multiplosComandos(comandos.length),\n        relPath: arquivo,\n        origem: 'analista-comandos-cli',\n      });\n    }\n\n    return Array.isArray(ocorrencias) ? ocorrencias : [];\n  },\n};\n"]}