{"version":3,"file":"analista-react.js","sourceRoot":"","sources":["../../../src/analistas/plugins/analista-react.ts"],"names":[],"mappings":"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","sourcesContent":["// SPDX-License-Identifier: MIT\nimport type { ParserPlugin as BabelParserPlugin } from '/parser';\nimport { parse as babelParse } from '/parser';\nimport type { NodePath, Visitor } from '/traverse';\nimport traverse from '/traverse';\nimport * as t from '/types';\nimport {\n  AnalystOrigins,\n  AnalystTypes,\n  ReactMessages,\n  SeverityLevels,\n} from '/messages/core/plugin-messages.js';\nimport { createLineLookup } from '/helpers/line-lookup.js';\nimport { maskJsComments } from '/helpers/masking.js';\n\nimport { criarAnalista, criarOcorrencia } from '@';\n\nconst disableEnv = process.env.ORACULO_DISABLE_PLUGIN_REACT === '1';\n\ntype Msg = ReturnType<typeof criarOcorrencia>;\n\nfunction hasJSX(src: string): boolean {\n  // Evita falsos positivos com genéricos TypeScript (ex.: foo<Bar>(...)).\n  // Heurística: JSX normalmente aparece após um separador (início de arquivo/linha, whitespace,\n  // pontuação), enquanto genéricos aparecem logo após identificadores.\n  const hasTagLike = /(^|[^A-Za-z0-9_$])<([A-Za-z][A-Za-z0-9]*)\\b/.test(src);\n  const hasFragment = /<>|<\\/>|<\\/\\s*>|<\\/\\s*Fragment\\s*>/i.test(src);\n  return hasTagLike || hasFragment || /React\\.createElement/.test(src);\n}\n\nconst traverseFn =\n  traverse as unknown as typeof import('/traverse').default;\n\nfunction warn(\n  message: string,\n  relPath: string,\n  line?: number,\n  nivel = SeverityLevels.warning,\n): Msg {\n  return criarOcorrencia({\n    relPath,\n    mensagem: message,\n    linha: line,\n    nivel,\n    origem: AnalystOrigins.react,\n    tipo: AnalystTypes.react,\n  });\n}\n\nfunction collectReactIssues(src: string, relPath: string): Msg[] {\n  const ocorrencias: Msg[] = [];\n  const lineOf = createLineLookup(src).lineAt;\n\n  // <a target=\"_blank\"> sem rel\n  for (const match of src.matchAll(/<a[^>]*target=['\"]?_blank['\"]?[^>]*>/gi)) {\n    const hasRelSafe = /rel=['\"][^'\"]*(noopener|noreferrer)[^'\"]*['\"]/i.test(\n      match[0],\n    );\n    if (!hasRelSafe) {\n      const line = lineOf(match.index);\n      ocorrencias.push(warn(ReactMessages.linkTargetBlank, relPath, line));\n    }\n  }\n\n  // dangerouslySetInnerHTML\n  for (const match of src.matchAll(/dangerouslySetInnerHTML/gi)) {\n    const line = lineOf(match.index);\n    ocorrencias.push(\n      warn(ReactMessages.dangerouslySetInnerHTML, relPath, line),\n    );\n  }\n\n  // <img> sem alt\n  for (const match of src.matchAll(/<img[^>]*>/gi)) {\n    const hasAlt = /\\salt=/.test(match[0]);\n    const ariaHidden = /\\saria-hidden=['\"]true['\"]/i.test(match[0]);\n    const rolePresentation = /\\srole=['\"](presentation|none)['\"]/i.test(\n      match[0],\n    );\n    if (!hasAlt && !ariaHidden && !rolePresentation) {\n      const line = lineOf(match.index);\n      ocorrencias.push(warn(ReactMessages.imgWithoutAlt, relPath, line));\n    }\n  }\n\n  // fetch/axios com HTTP (inseguro)\n  for (const match of src.matchAll(\n    /\\b(fetch|axios\\.get|axios\\.post|axios\\.[a-z]+)\\s*\\(\\s*['\"]http:\\/\\//gi,\n  )) {\n    const line = lineOf(match.index);\n    ocorrencias.push(warn(ReactMessages.httpFetch, relPath, line));\n  }\n\n  // Hardcoded secrets (heurística)\n  for (const match of src.matchAll(\n    /(api[key]?|token|secret|senha|password|passphrase)\\s*[:=]\\s*['\"]([A-Za-z0-9\\/_+=.-]{16,})['\"]/gi,\n  )) {\n    const valor = match[2] || '';\n    if (valor.length < 24 || /^https?:\\/\\//i.test(valor)) continue;\n    const line = lineOf(match.index);\n    ocorrencias.push(warn(ReactMessages.hardcodedCredential, relPath, line));\n  }\n\n  // Redirecionamento direto via location.href em handlers\n  // Ignorar router.push/replace do Next.js (navegação segura via client-side routing)\n  const usesNextRouter = /useRouter|router\\.(push|replace)/.test(src);\n\n  for (const match of src.matchAll(/location\\.href\\s*=\\s*([^;]+)/gi)) {\n    const assignedValue = match[1] || '';\n    const line = lineOf(match.index);\n\n    // Ignorar se valor é string literal (não vem de input do usuário)\n    const isStaticString = /^['\"`][^'\"\\`]*['\"`]$/.test(assignedValue.trim());\n\n    // Ignorar se é window.location.href = '/path' (navegação interna estática)\n    const isInternalNavigation = /^['\"`]\\//.test(assignedValue.trim());\n\n    // Só reportar se for atribuição dinâmica (potencialmente de input do usuário)\n    if (!isStaticString && !isInternalNavigation && !usesNextRouter) {\n      ocorrencias.push(warn(ReactMessages.locationHrefRedirect, relPath, line));\n    }\n  }\n\n  return ocorrencias;\n}\n\nfunction normalizeStringValue(v: unknown): string {\n  return typeof v === 'string' ? v : '';\n}\n\nfunction isBabelNode(v: unknown): v is t.Node {\n  return typeof v === 'object' && v !== null && 'type' in v;\n}\n\nfunction attrsToFlatList(\n  attrs: unknown,\n): Array<{ name: string; value?: string | null }> {\n  if (!Array.isArray(attrs)) return [];\n  return attrs\n    .filter(isBabelNode)\n    .filter((a): a is t.JSXAttribute => t.isJSXAttribute(a))\n    .filter((a) => t.isJSXIdentifier(a.name))\n    .map((a) => {\n      const name = String(a.name.name);\n      let value: string | null | undefined;\n      if (!a.value) value = null;\n      else if (t.isStringLiteral(a.value)) value = a.value.value;\n      else if (t.isJSXExpressionContainer(a.value)) {\n        const expr = a.value.expression;\n        if (t.isStringLiteral(expr)) value = expr.value;\n      }\n      return { name, value };\n    });\n}\n\nfunction findAttr(\n  attrs: Array<{ name: string; value?: string | null }>,\n  name: string,\n): { name: string; value?: string | null } | null {\n  const n = name.toLowerCase();\n  return attrs.find((a) => a.name.toLowerCase() === n) ?? null;\n}\n\nfunction isSensitiveKeyName(key: string): boolean {\n  return /(api[key]?|token|secret|senha|password|passphrase)/i.test(key);\n}\n\nfunction parseReactWithBabel(scan: string, relPath: string): Msg[] | null {\n  const lower = relPath.toLowerCase();\n  const isTs = lower.endsWith('.ts') || lower.endsWith('.tsx');\n  const isJsxLike = lower.endsWith('.tsx') || lower.endsWith('.jsx');\n  const isJsFamily = /\\.(js|mjs|cjs|jsx)$/i.test(lower);\n\n  // Em .ts puro o Babel com JSX pode aumentar falsos positivos; só parseamos quando o\n  // arquivo já passou pela heurística de JSX antes.\n  if (lower.endsWith('.ts') && !isJsxLike) return null;\n\n  try {\n    const plugins: BabelParserPlugin[] = [\n      'decorators-legacy',\n      'classProperties',\n      'classPrivateProperties',\n      'classPrivateMethods',\n      'optionalChaining',\n      'nullishCoalescingOperator',\n      'topLevelAwait',\n      'importAttributes',\n      'importAssertions',\n    ];\n    if (isTs) plugins.unshift('typescript');\n    // Robustez: projetos React frequentemente usam JSX em .js\n    if (isJsxLike || isJsFamily) plugins.unshift('jsx');\n\n    const ast = babelParse(scan, {\n      sourceType: 'unambiguous',\n      errorRecovery: true,\n      plugins,\n    });\n\n    const ocorrencias: Msg[] = [];\n    const seen = new Set<string>();\n    const pushOnce = (m: Msg) => {\n      const k = `${m.mensagem}|${m.relPath}|${m.linha ?? 0}`;\n      if (seen.has(k)) return;\n      seen.add(k);\n      ocorrencias.push(m);\n    };\n\n    const visitor: Visitor<unknown> = {\n      JSXOpeningElement(path: NodePath<t.JSXOpeningElement>) {\n        try {\n          const node = path.node;\n          const locLine: number | undefined = node.loc?.start?.line;\n          const nameNode = node.name;\n          const tag = t.isJSXIdentifier(nameNode) ? String(nameNode.name) : '';\n          if (!tag) return;\n\n          const attrs = attrsToFlatList(node.attributes);\n\n          if (tag.toLowerCase() === 'a') {\n            const target = findAttr(attrs, 'target');\n            const targetVal = normalizeStringValue(target?.value);\n            if (target && targetVal === '_blank') {\n              const rel = findAttr(attrs, 'rel');\n              const relVal = normalizeStringValue(rel?.value);\n              const safe = /(noopener|noreferrer)/i.test(relVal);\n              if (!safe)\n                pushOnce(warn(ReactMessages.linkTargetBlank, relPath, locLine));\n            }\n          }\n\n          if (tag.toLowerCase() === 'img') {\n            const alt = findAttr(attrs, 'alt');\n            const ariaHidden = findAttr(attrs, 'aria-hidden');\n            const role = findAttr(attrs, 'role');\n            const ariaHiddenVal = normalizeStringValue(ariaHidden?.value);\n            const roleVal = normalizeStringValue(role?.value);\n            const decorative =\n              ariaHiddenVal === 'true' ||\n              /^(presentation|none)$/i.test(roleVal);\n            // Considerar alt presente se há atributo alt, mesmo se valor é expressão\n            if (!alt && !decorative) {\n              pushOnce(warn(ReactMessages.imgWithoutAlt, relPath, locLine));\n            }\n          }\n\n          if (findAttr(attrs, 'dangerouslySetInnerHTML')) {\n            pushOnce(\n              warn(ReactMessages.dangerouslySetInnerHTML, relPath, locLine),\n            );\n          }\n\n          // Verificar handlers inline em atributos JSX (ex.: onClick={() => ...})\n          for (const a of node.attributes) {\n            try {\n              if (!t.isJSXAttribute(a) || !t.isJSXIdentifier(a.name)) continue;\n              const attrName = String(a.name.name);\n              if (a.value && t.isJSXExpressionContainer(a.value)) {\n                const expr = a.value.expression;\n                if (\n                  t.isArrowFunctionExpression(expr) ||\n                  t.isFunctionExpression(expr)\n                ) {\n                  pushOnce(\n                    warn(ReactMessages.inlineHandlerJsx, relPath, locLine),\n                  );\n                }\n\n                // Detectar uso de índice como key (key={i} / key={index})\n                if (\n                  attrName === 'key' &&\n                  t.isJSXExpressionContainer(a.value) &&\n                  t.isIdentifier(a.value.expression)\n                ) {\n                  const id = a.value.expression.name;\n                  if (['i', 'index', 'idx'].includes(id)) {\n                    pushOnce(warn(ReactMessages.indexAsKey, relPath, locLine));\n                  }\n                }\n              }\n            } catch {\n              // ignora\n            }\n          }\n        } catch {\n          // ignora\n        }\n      },\n\n      CallExpression(path: NodePath<t.CallExpression>) {\n        try {\n          const node = path.node;\n          const locLine: number | undefined = node.loc?.start?.line;\n          const args = node.arguments;\n          const first = args[0];\n          const firstStr = t.isStringLiteral(first) ? String(first.value) : '';\n\n          if (t.isIdentifier(node.callee) && node.callee.name === 'fetch') {\n            if (/^http:\\/\\//i.test(firstStr))\n              pushOnce(warn(ReactMessages.httpFetch, relPath, locLine));\n            return;\n          }\n\n          if (t.isMemberExpression(node.callee)) {\n            const obj = node.callee.object;\n            const prop = node.callee.property;\n            const objName = t.isIdentifier(obj) ? String(obj.name) : '';\n            const propName = t.isIdentifier(prop) ? String(prop.name) : '';\n            if (objName === 'axios' && propName) {\n              if (/^http:\\/\\//i.test(firstStr))\n                pushOnce(warn(ReactMessages.httpFetch, relPath, locLine));\n            }\n\n            // Detectar Array#map com callback retornando JSX sem key\n            if (propName === 'map' && args.length >= 1) {\n              const cb = args[0];\n              const checkCallback = (\n                fn: t.FunctionExpression | t.ArrowFunctionExpression,\n              ) => {\n                try {\n                  const body = fn.body;\n\n                  const checkJsxNode = (jsx: t.JSXElement | t.JSXFragment) => {\n                    if (t.isJSXElement(jsx)) {\n                      const hasKey = jsx.openingElement.attributes.some(\n                        (a) =>\n                          t.isJSXAttribute(a) &&\n                          t.isJSXIdentifier(a.name) &&\n                          String(a.name.name) === 'key',\n                      );\n                      if (!hasKey) {\n                        pushOnce(\n                          warn(\n                            ReactMessages.listItemNoKey,\n                            relPath,\n                            jsx.loc?.start?.line ?? locLine,\n                          ),\n                        );\n                      }\n                    } else {\n                      // JSXFragment (<>...</>) não aceita atributo key - tratar como sem key\n                      pushOnce(\n                        warn(\n                          ReactMessages.listItemNoKey,\n                          relPath,\n                          jsx.loc?.start?.line ?? locLine,\n                        ),\n                      );\n                    }\n                  };\n\n                  if (t.isJSXElement(body) || t.isJSXFragment(body)) {\n                    checkJsxNode(body);\n                  } else if (t.isBlockStatement(body)) {\n                    for (const stmt of body.body) {\n                      if (t.isReturnStatement(stmt) && stmt.argument) {\n                        if (\n                          t.isJSXElement(stmt.argument) ||\n                          t.isJSXFragment(stmt.argument)\n                        ) {\n                          checkJsxNode(stmt.argument);\n                        }\n                      }\n                    }\n                  }\n                } catch {\n                  // ignora\n                }\n              };\n\n              if (t.isFunctionExpression(cb)) checkCallback(cb);\n              if (t.isArrowFunctionExpression(cb)) checkCallback(cb);\n            }\n          }\n        } catch {\n          // ignora\n        }\n      },\n\n      AssignmentExpression(path: NodePath<t.AssignmentExpression>) {\n        try {\n          const node = path.node;\n          const locLine: number | undefined = node.loc?.start?.line;\n          const left = node.left;\n          if (!t.isMemberExpression(left)) return;\n          const obj = left.object;\n          const prop = left.property;\n          const objName = t.isIdentifier(obj) ? String(obj.name) : '';\n          const propName = t.isIdentifier(prop) ? String(prop.name) : '';\n          if (objName === 'location' && propName === 'href') {\n            // Ignorar se RHS é string literal estática ou navegação interna\n            const right = node.right;\n            let isSafe = false;\n            if (t.isStringLiteral(right)) {\n              const val = right.value;\n              isSafe =\n                val.startsWith('/') ||\n                val.startsWith('./') ||\n                val.startsWith('../');\n            }\n            if (!isSafe) {\n              pushOnce(\n                warn(ReactMessages.locationHrefRedirect, relPath, locLine),\n              );\n            }\n          }\n        } catch {\n          // ignora\n        }\n      },\n\n      ObjectProperty(path: NodePath<t.ObjectProperty>) {\n        try {\n          const node = path.node;\n          const locLine: number | undefined = node.loc?.start?.line;\n          const key = node.key;\n          const value = node.value;\n          const keyName = t.isIdentifier(key)\n            ? String(key.name)\n            : t.isStringLiteral(key)\n              ? String(key.value)\n              : '';\n          if (!keyName || !isSensitiveKeyName(keyName)) return;\n          if (!t.isStringLiteral(value)) return;\n          const s = String(value.value || '');\n          if (s.length < 24) return;\n          if (/^https?:\\/\\//i.test(s)) return;\n          pushOnce(warn(ReactMessages.hardcodedCredential, relPath, locLine));\n        } catch {\n          // ignora\n        }\n      },\n    };\n\n    traverseFn(ast, visitor);\n\n    return ocorrencias.length ? ocorrencias : null;\n  } catch {\n    return null;\n  }\n}\n\nexport const analistaReact = criarAnalista({\n  nome: 'analista-react',\n  categoria: 'framework',\n  descricao: 'Heurísticas leves de React (sem ESLint).',\n  global: false,\n  test: (relPath: string): boolean => /\\.(jsx|tsx|js|ts)$/i.test(relPath),\n  aplicar: async (src, relPath): Promise<Msg[] | null> => {\n    if (disableEnv) return null;\n    if (relPath.includes('src/analistas/plugins/analista-react.ts'))\n      return null;\n\n    const scan = maskJsComments(src);\n\n    // Em arquivos .ts (não TSX), seja mais conservador para evitar falsos positivos\n    // com assertions/generics usando <T>.\n    if (/\\.ts$/i.test(relPath) && !/\\.tsx$/i.test(relPath)) {\n      const hasStrongJsxEvidence =\n        /<\\/[A-Za-z][^>]*>/.test(scan) ||\n        /\\/>/.test(scan) ||\n        /React\\.createElement/.test(scan);\n      if (!hasStrongJsxEvidence) return null;\n    }\n\n    if (!hasJSX(scan)) return null;\n\n    const astMsgs = parseReactWithBabel(scan, relPath) ?? [];\n    const heuristicMsgs = collectReactIssues(scan, relPath);\n\n    if (!astMsgs.length && !heuristicMsgs.length) return null;\n\n    // Dedupe para evitar duplicatas quando AST e regex cobrem o mesmo caso.\n    const seen = new Set<string>();\n    const merged: Msg[] = [];\n    const pushOnce = (m: Msg) => {\n      const k = `${m.mensagem}|${m.relPath}|${m.linha ?? 0}`;\n      if (seen.has(k)) return;\n      seen.add(k);\n      merged.push(m);\n    };\n\n    astMsgs.forEach(pushOnce);\n    heuristicMsgs.forEach(pushOnce);\n\n    return merged.length ? merged : null;\n  },\n});\n\nexport default analistaReact;\n"]}